{% extends 'base.html' %}

{% block title %}Booking Confirmed - Sunshine Hotels{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <!-- Success Card -->
            <div class="card border-success">
                <div class="card-header bg-success text-white text-center">
                    <i class="fas fa-check-circle fa-3x mb-3"></i>
                    <h3 class="mb-0">Booking Confirmed!</h3>
                </div>
                <div class="card-body text-center">
                    <p class="lead">Thank you for choosing Sunshine Hotels!</p>
                    <p>Your booking has been confirmed and a confirmation email has been sent to <strong>{{ booking.customer_email }}</strong>.</p>
                    
                    <!-- Booking Details -->
                    <div class="row justify-content-center mt-4">
                        <div class="col-md-8">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h5 class="card-title">Booking Details</h5>
                                    <div class="row text-start">
                                        <div class="col-6">
                                            <strong>Booking ID:</strong><br>
                                            <strong>Hotel:</strong><br>
                                            <strong>Check-in:</strong><br>
                                            <strong>Check-out:</strong><br>
                                            <strong>Guests:</strong><br>
                                            <strong>Total Price:</strong>
                                        </div>
                                        <div class="col-6">
                                            #{{ booking.id }}<br>
                                            {{ booking.hotel.name }}<br>
                                            {{ booking.check_in }}<br>
                                            {{ booking.check_out }}<br>
                                            {{ booking.guests }} guest(s)<br>
                                            <span class="h5 text-success">${{ booking.total_price }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Hotel Information -->
                    <div class="row mt-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">Hotel Information</h5>
                                    <div class="row">
                                        <div class="col-md-3">
<!-- In the booking success template, update this line: -->
                                            <img src="{{ booking.hotel.get_image_url }}" class="img-fluid rounded" alt="{{ booking.hotel.name }}">
                                        </div>
                                        <div class="col-md-9">
                                            <h6>{{ booking.hotel.name }}</h6>
                                            <p class="text-muted">
                                                <i class="fas fa-map-marker-alt"></i> {{ booking.hotel.location }}
                                            </p>
                                            <p>{{ booking.hotel.description }}</p>
                                            <div class="rating mb-2">
                                                {% for i in "12345" %}
                                                    {% if forloop.counter <= booking.hotel.rating %}
                                                        <i class="fas fa-star"></i>
                                                    {% else %}
                                                        <i class="far fa-star"></i>
                                                    {% endif %}
                                                {% endfor %}
                                                <span class="ms-2">{{ booking.hotel.rating }}/5</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Next Steps -->
                    <div class="row mt-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">What's Next?</h5>
                                    <div class="row text-center">
                                        <div class="col-md-4">
                                            <i class="fas fa-envelope fa-2x text-primary mb-2"></i>
                                            <h6>Confirmation Email</h6>
                                            <p class="small">Check your email for booking details and receipt</p>
                                        </div>
                                        <div class="col-md-4">
                                            <i class="fas fa-bell fa-2x text-warning mb-2"></i>
                                            <h6>Reminder</h6>
                                            <p class="small">We'll send a reminder 24 hours before check-in</p>
                                        </div>
                                        <div class="col-md-4">
                                            <i class="fas fa-question-circle fa-2x text-info mb-2"></i>
                                            <h6>Need Help?</h6>
                                            <p class="small">Contact us at +1 (555) 123-4567</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="row mt-4">
                        <div class="col-12">
                            <div class="d-grid gap-2 d-md-block">
                                <a href="{% url 'home' %}" class="btn btn-primary">
                                    <i class="fas fa-home"></i> Back to Home
                                </a>
                                <a href="{% url 'hotel_list' %}" class="btn btn-outline-primary">
                                    <i class="fas fa-hotel"></i> Browse More Hotels
                                </a>
                                <button class="btn btn-outline-success" onclick="window.print()">
                                    <i class="fas fa-print"></i> Print Confirmation
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Important Information -->
                    <div class="alert alert-info mt-4">
                        <h6><i class="fas fa-info-circle"></i> Important Information</h6>
                        <ul class="small mb-0">
                            <li>Check-in time: 3:00 PM | Check-out time: 11:00 AM</li>
                            <li>Please bring a valid ID and this confirmation</li>
                            <li>Free cancellation up to 24 hours before check-in</li>
                            <li>Contact the hotel for early check-in or late check-out requests</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    @media print {
        .btn { display: none !important; }
        .alert { display: none !important; }
    }
</style>
{% endblock %}